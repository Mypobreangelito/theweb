---
import Base from "../../layouts/Base.astro";
import { getEntryBySlug } from "astro:content";

const { slug } = Astro.params;
const entry = await getEntryBySlug("escritos", slug!);
if (!entry) throw new Error("Post no encontrado");
const { Content, data } = await entry.render();
---

<Base title={data.title} description={data.description}>
  <main class="mx-auto max-w-3xl px-4 py-8">
    <header class="mb-6">
      <h1 class="text-3xl font-bold tracking-tight">{data.title}</h1>
      {data.description && <p class="text-gray-600 mt-1">{data.description}</p>}
      <p class="text-sm text-gray-500 mt-1">
        {new Date(data.date).toLocaleDateString()}
      </p>
    </header>

    <article class="prose prose-neutral dark:prose-invert max-w-none">
      <Content />
    </article>
  </main>
</Base>